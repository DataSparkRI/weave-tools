<html>
<head>
  <title>Weave.ready() example</title>
  <!-- include swfobject library -->
  <script type="text/javascript" src="../lib/swfobject/swfobject/swfobject.js"></script>
  <script type="text/javascript" src="../weave.js"></script>
  <script language="JavaScript" type="text/javascript">
  
    window.onload = function init() {
      
      /*
       * Embed a Weave object with some custom options.
       */
      
      Weave.embed({
        swfUrl: '/weave.swf',
        id: 'weavediv',
        width : '720',
        height : '480',
        params : {
          // Webservice URL
          base : 'http://localhost:8080/'
        }
      });
      
    }
    
    Weave.ready = function () {
      
      /*
       * The Weave Session Editing API can be used now.
       */
       
      mySessionState = Weave.API.getSessionState([]);
      alert('The Weave Session Editing API is loaded.');
      
    }
  
  </script>
</head>
<body>
  <h1>Weave.ready() example</h1>
  <p>The function Weave.ready() is called as soon as the Weave Session Editing API is available.</p>
  <div id="weavediv">
    <p>Sorry, Weave could not be loaded.</p>
  </div>
</body>
</html>
